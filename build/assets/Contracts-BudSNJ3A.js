import{c as E,r as c,j as e,t as m,d as B,m as I,L as S}from"./index-mGwfGQYQ.js";import{D as U,a as z,b as H,c as _}from"./dialog-D60cBJNC.js";import{B as w}from"./button-obQTf0hL.js";import{d as k,f as F,a as v}from"./format-DtwxcAHJ.js";import{P as G}from"./plus-B5-QUGQk.js";import{S as J}from"./search-Sd1l6yxc.js";import{C as q}from"./credit-card-1vICFsHR.js";import{S as L}from"./square-pen-CVcJ4uLN.js";import{C as T}from"./calendar-BCfoPkQF.js";import{T as M}from"./trash-2-Duj4ao2x.js";import{F as P}from"./file-text-1R6tpTFz.js";import"./utils-Bp-GuQk1.js";import"./x-BRS87iRj.js";import"./createLucideIcon-_jMiD3q_.js";function K({isOpen:o,onClose:f,contractId:n,preselectedUnitId:u}){const{contracts:p,units:d,tenants:h,addContract:C,updateContract:b}=E(),[a,i]=c.useState({tenantId:"",unitId:"",startDate:"",endDate:"",rentAmount:0,paymentFrequency:"monthly",status:"active",deposit:0,notes:""}),g=n?d:d.filter(s=>s.status==="vacant");c.useEffect(()=>{if(n){const s=p.find(x=>x.id===n);s&&i({tenantId:s.tenantId,unitId:s.unitId,startDate:s.startDate,endDate:s.endDate,rentAmount:s.rentAmount,paymentFrequency:s.paymentFrequency,status:s.status,deposit:s.deposit||0,notes:s.notes||""})}else{const s=u?d.find(x=>x.id===u):null;i({tenantId:"",unitId:u||"",startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],rentAmount:s?.rentAmount||0,paymentFrequency:"monthly",status:"active",deposit:0,notes:""})}},[n,u,p,d,o]);const D=s=>{const x=d.find(j=>j.id===s);x&&i({...a,unitId:s,rentAmount:x.rentAmount})},y=s=>{if(s.preventDefault(),!a.tenantId||!a.unitId){m.error("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø³ØªØ£Ø¬Ø± ÙˆØ§Ù„ÙˆØ­Ø¯Ø©");return}if(!a.startDate||!a.endDate){m.error("Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­Ø¯ÙŠØ¯ ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ø¹Ù‚Ø¯");return}if(new Date(a.endDate)<=new Date(a.startDate)){m.error("ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨Ø¹Ø¯ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©");return}n?(b(n,a),m.success("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù‚Ø¯ Ø¨Ù†Ø¬Ø§Ø­")):(C(a),m.success("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù‚Ø¯ ÙˆØ¬Ø¯ÙˆÙ„ Ø§Ù„Ø¯ÙØ¹Ø§Øª")),f()};return e.jsx(U,{open:o,onOpenChange:f,children:e.jsxs(z,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsx(H,{children:e.jsx(_,{children:n?"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù‚Ø¯":"Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯"})}),e.jsxs("form",{onSubmit:y,className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ø§Ù„Ù…Ø³ØªØ£Ø¬Ø± ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.tenantId,onChange:s=>i({...a,tenantId:s.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue bg-white",children:[e.jsx("option",{value:"",children:"Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ØªØ£Ø¬Ø±"}),h.map(s=>e.jsxs("option",{value:s.id,children:[s.fullName," - ",s.phone]},s.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ø§Ù„ÙˆØ­Ø¯Ø© ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.unitId,onChange:s=>D(s.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue bg-white",disabled:!!n,children:[e.jsx("option",{value:"",children:"Ø§Ø®ØªØ± Ø§Ù„ÙˆØ­Ø¯Ø©"}),g.map(s=>e.jsxs("option",{value:s.id,children:[s.propertyName," - ",s.unitNo," (",s.rentAmount.toLocaleString()," Ø±.Ø³)"]},s.id))]}),!n&&g.length===0&&e.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ ÙˆØ­Ø¯Ø§Øª Ø´Ø§ØºØ±Ø©. Ø£Ø¶Ù ÙˆØ­Ø¯Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ø£ÙˆÙ„Ø§Ù‹."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:a.startDate,onChange:s=>i({...a,startDate:s.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:a.endDate,onChange:s=>i({...a,endDate:s.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥ÙŠØ¬Ø§Ø± (Ø±.Ø³) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",min:"0",value:a.rentAmount,onChange:s=>i({...a,rentAmount:parseInt(s.target.value)||0}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ø¯ÙˆØ±ÙŠØ© Ø§Ù„Ø¯ÙØ¹ ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.paymentFrequency,onChange:s=>i({...a,paymentFrequency:s.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue bg-white",children:[e.jsx("option",{value:"monthly",children:"Ø´Ù‡Ø±ÙŠ"}),e.jsx("option",{value:"quarterly",children:"Ø±Ø¨Ø¹ Ø³Ù†ÙˆÙŠ"}),e.jsx("option",{value:"yearly",children:"Ø³Ù†ÙˆÙŠ"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ù…Ø¨Ù„Øº Ø§Ù„ØªØ£Ù…ÙŠÙ† (Ø±.Ø³)"}),e.jsx("input",{type:"number",min:"0",value:a.deposit,onChange:s=>i({...a,deposit:parseInt(s.target.value)||0}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue",placeholder:"Ø§Ø®ØªÙŠØ§Ø±ÙŠ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª"}),e.jsx("textarea",{value:a.notes,onChange:s=>i({...a,notes:s.target.value}),rows:2,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue",placeholder:"Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©..."})]}),!n&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 text-sm text-blue-700",children:"ðŸ’¡ Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„ Ø¯ÙØ¹Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¯ÙˆØ±ÙŠØ© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©"}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(w,{type:"submit",variant:"gradient",className:"flex-1",children:n?"Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª":"Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù‚Ø¯"}),e.jsx(w,{type:"button",variant:"outline",onClick:f,children:"Ø¥Ù„ØºØ§Ø¡"})]})]})]})})}function ie(){const{contracts:o,deleteContract:f,updateContract:n}=E(),[u]=B(),p=u.get("tenant")||"all",d=u.get("unit")||"all",[h,C]=c.useState(""),[b,a]=c.useState("all"),[i,g]=c.useState(!1),[D,y]=c.useState(null),[s,x]=c.useState(d!=="all"?d:null),j=c.useMemo(()=>o.filter(t=>{const l=t.tenantName.toLowerCase().includes(h.toLowerCase())||t.propertyName.toLowerCase().includes(h.toLowerCase())||t.unitNo.toLowerCase().includes(h.toLowerCase()),r=b==="all"||t.status===b,O=p==="all"||t.tenantId===p,R=d==="all"||t.unitId===d;return l&&r&&O&&R}),[o,h,b,p,d]),N=c.useMemo(()=>({total:o.length,active:o.filter(t=>t.status==="active").length,expiringSoon:o.filter(t=>{const l=k(t.endDate);return t.status==="active"&&l>=0&&l<=30}).length,totalMonthlyRent:o.filter(t=>t.status==="active").reduce((t,l)=>{let r=l.rentAmount;return l.paymentFrequency==="quarterly"&&(r/=3),l.paymentFrequency==="semi_annual"&&(r/=6),l.paymentFrequency==="monthly"&&(r/=12),t+r},0)}),[o]),A=async t=>{if(window.confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ù†Ù‡Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù‚Ø¯ØŸ Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„ Ø­Ø§Ù„ØªÙ‡ Ø¥Ù„Ù‰ Ù…Ù†ØªÙ‡ÙŠ."))try{await n(t,{status:"ended"}),m.success("ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¹Ù‚Ø¯ Ø¨Ù†Ø¬Ø§Ø­")}catch{m.error("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¹Ù‚Ø¯")}},$=async t=>{if(window.confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù‚Ø¯ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ"))try{await f(t),m.success("ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ù‚Ø¯ Ø¨Ù†Ø¬Ø§Ø­")}catch{m.error("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„Ø¹Ù‚Ø¯")}};return e.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm lg:text-base text-gray-600",children:["Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø± (",o.length," Ø¹Ù‚Ø¯)"]})}),e.jsxs(w,{onClick:()=>{y(null),x(d!=="all"?d:null),g(!0)},variant:"gradient",className:"w-full sm:w-auto text-sm lg:text-base",children:[e.jsx(G,{className:"w-4 h-4 lg:w-5 lg:h-5 ml-2"}),"Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯"]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 lg:p-4 border border-gray-100",children:[e.jsx("div",{className:"text-xl lg:text-2xl font-bold text-brand-dark",children:N.total}),e.jsx("div",{className:"text-xs lg:text-sm text-gray-500",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù‚ÙˆØ¯"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 lg:p-4 border border-gray-100",children:[e.jsx("div",{className:"text-xl lg:text-2xl font-bold text-green-600",children:N.active}),e.jsx("div",{className:"text-xs lg:text-sm text-gray-500",children:"Ø¹Ù‚ÙˆØ¯ Ù†Ø´Ø·Ø©"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 lg:p-4 border border-gray-100",children:[e.jsx("div",{className:"text-xl lg:text-2xl font-bold text-amber-600",children:N.expiringSoon}),e.jsx("div",{className:"text-xs lg:text-sm text-gray-500",children:"ØªÙ†ØªÙ‡ÙŠ Ù‚Ø±ÙŠØ¨Ø§Ù‹"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 lg:p-4 border border-gray-100",children:[e.jsx("div",{className:"text-sm lg:text-lg font-bold text-brand-dark",children:F(N.totalMonthlyRent)}),e.jsx("div",{className:"text-xs lg:text-sm text-gray-500",children:"Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ø´Ù‡Ø±ÙŠ"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-3 lg:p-4 border border-gray-100",children:e.jsxs("div",{className:"space-y-3 lg:space-y-0 lg:grid lg:grid-cols-2 lg:gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 lg:w-5 lg:h-5"}),e.jsx("input",{type:"text",placeholder:"Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ù…Ø³ØªØ£Ø¬Ø± Ø£Ùˆ Ø§Ù„Ø¹Ù‚Ø§Ø±...",value:h,onChange:t=>C(t.target.value),className:"w-full pr-9 lg:pr-10 pl-3 lg:pl-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue text-sm lg:text-base"})]}),e.jsx("div",{className:"flex gap-1.5 lg:gap-2",children:["all","active","ended"].map(t=>e.jsx("button",{onClick:()=>a(t),className:`flex-1 py-2 px-2 rounded-xl text-xs lg:text-sm font-medium transition-all ${b===t?"bg-brand-blue text-white":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:t==="all"?"Ø§Ù„ÙƒÙ„":t==="active"?"Ù†Ø´Ø·":"Ù…Ù†ØªÙ‡ÙŠ"},t))})]})}),e.jsx("div",{className:"lg:hidden space-y-3",children:j.map((t,l)=>{const r=k(t.endDate);return e.jsxs(I.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:l*.02},className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-brand-blue to-brand-purple flex items-center justify-center text-white font-bold text-sm",children:t.tenantName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.tenantName}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.propertyName," - ",t.unitNo]})]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-medium ${t.status==="active"?"bg-green-100 text-green-700":t.status==="ended"?"bg-gray-100 text-gray-700":"bg-amber-100 text-amber-700"}`,children:t.status==="active"?"Ù†Ø´Ø·":t.status==="ended"?"Ù…Ù†ØªÙ‡ÙŠ":"Ù…Ø¹Ù„Ù‚"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Ù…Ø¯Ø© Ø§Ù„Ø¹Ù‚Ø¯"}),e.jsx("p",{className:"font-medium",children:v(t.startDate)}),e.jsxs("p",{className:"text-gray-400",children:["Ø¥Ù„Ù‰ ",v(t.endDate)]}),t.status==="active"&&e.jsx("span",{className:`${r<30?"text-red-600":r<90?"text-amber-600":"text-green-600"}`,children:r>0?`Ù…ØªØ¨Ù‚ÙŠ ${r} ÙŠÙˆÙ…`:"Ù…Ù†ØªÙ‡ÙŠ"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±"}),e.jsx("p",{className:"font-bold text-brand-dark",children:F(t.rentAmount)}),e.jsx("p",{className:"text-gray-400",children:t.paymentFrequency==="monthly"?"Ø´Ù‡Ø±ÙŠ":t.paymentFrequency==="quarterly"?"Ø±Ø¨Ø¹ Ø³Ù†ÙˆÙŠ":"Ø³Ù†ÙˆÙŠ"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{to:`/app/payments?contract=${t.id}`,children:e.jsx("button",{className:"p-1.5 text-gray-400 hover:text-brand-blue hover:bg-brand-blue/10 rounded-lg",children:e.jsx(q,{className:"w-4 h-4"})})}),e.jsx("button",{onClick:()=>{y(t.id),g(!0)},className:"p-1.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg",children:e.jsx(L,{className:"w-4 h-4"})}),t.status==="active"&&e.jsx("button",{onClick:()=>A(t.id),className:"p-1.5 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded-lg",children:e.jsx(T,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>$(t.id),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg",children:e.jsx(M,{className:"w-4 h-4"})})]}),e.jsx(S,{to:`/app/payments?contract=${t.id}`,children:e.jsxs(w,{variant:"outline",size:"sm",className:"text-xs px-2",children:[e.jsx(q,{className:"w-3 h-3 ml-1"}),"Ø§Ù„Ø¯ÙØ¹Ø§Øª"]})})]})]},t.id)})}),e.jsxs("div",{className:"hidden lg:block bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„Ù…Ø³ØªØ£Ø¬Ø±"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„Ø¹Ù‚Ø§Ø± / Ø§Ù„ÙˆØ­Ø¯Ø©"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ù…Ø¯Ø© Ø§Ù„Ø¹Ù‚Ø¯"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„Ø­Ø§Ù„Ø©"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:j.map((t,l)=>{const r=k(t.endDate);return e.jsxs(I.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:l*.02},className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-brand-blue to-brand-purple flex items-center justify-center text-white font-bold",children:t.tenantName.charAt(0)}),e.jsx("div",{children:e.jsx("p",{className:"font-medium text-gray-900",children:t.tenantName})})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-gray-900",children:t.propertyName}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ÙˆØ­Ø¯Ø© ",t.unitNo]})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:v(t.startDate)}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Ø¥Ù„Ù‰ ",v(t.endDate)]}),t.status==="active"&&e.jsx("span",{className:`text-xs ${r<30?"text-red-600":r<90?"text-amber-600":"text-green-600"}`,children:r>0?`Ù…ØªØ¨Ù‚ÙŠ ${r} ÙŠÙˆÙ…`:"Ù…Ù†ØªÙ‡ÙŠ"})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"font-bold text-brand-dark",children:F(t.rentAmount)}),e.jsx("p",{className:"text-xs text-gray-400",children:t.paymentFrequency==="monthly"?"Ø´Ù‡Ø±ÙŠ":t.paymentFrequency==="quarterly"?"Ø±Ø¨Ø¹ Ø³Ù†ÙˆÙŠ":"Ø³Ù†ÙˆÙŠ"})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.status==="active"?"bg-green-100 text-green-700":t.status==="ended"?"bg-gray-100 text-gray-700":"bg-amber-100 text-amber-700"}`,children:t.status==="active"?"Ù†Ø´Ø·":t.status==="ended"?"Ù…Ù†ØªÙ‡ÙŠ":"Ù…Ø¹Ù„Ù‚"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{to:`/app/payments?contract=${t.id}`,children:e.jsx("button",{className:"p-2 text-gray-400 hover:text-brand-blue hover:bg-brand-blue/10 rounded-lg",title:"Ø§Ù„Ø¯ÙØ¹Ø§Øª",children:e.jsx(q,{className:"w-4 h-4"})})}),e.jsx("button",{onClick:()=>{y(t.id),g(!0)},className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg",title:"ØªØ¹Ø¯ÙŠÙ„",children:e.jsx(L,{className:"w-4 h-4"})}),t.status==="active"&&e.jsx("button",{onClick:()=>A(t.id),className:"p-2 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded-lg",title:"Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¹Ù‚Ø¯",children:e.jsx(T,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>$(t.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg",title:"Ø­Ø°Ù",children:e.jsx(M,{className:"w-4 h-4"})})]})})]},t.id)})})]})}),j.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(P,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-gray-500",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù‚ÙˆØ¯"})]})]}),j.length===0&&e.jsxs("div",{className:"lg:hidden text-center py-12 bg-white rounded-xl shadow border border-gray-100",children:[e.jsx(P,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-gray-500",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù‚ÙˆØ¯"})]}),e.jsx(K,{isOpen:i,onClose:()=>{g(!1),y(null),x(null)},contractId:D,preselectedUnitId:s})]})}export{ie as Contracts};
