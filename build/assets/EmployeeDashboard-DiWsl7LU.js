import{u as x,c as b,a as y,b as g,r as d,j as e,m,L as f}from"./index-Ckv98okJ.js";import{a as c,C as v}from"./clipboard-list-BX0Xcw4D.js";import{B as j}from"./building-2-DEbP7tbQ.js";import{H as N}from"./house-D7y-fc29.js";import{U as w}from"./users-BW_s600M.js";import{F as k}from"./file-text-BlJS6ccn.js";import{C}from"./credit-card-S0HkCzsQ.js";import{W as E}from"./wrench-CjqLlqGo.js";import{S as L}from"./shopping-cart-Bf3XHW6H.js";import"./createLucideIcon-BSYcr9Kq.js";const I=[{name:"نظرة عامة",path:"/employee/dashboard",icon:c,module:"properties"},{name:"العقارات",path:"/employee/properties",icon:j,module:"properties"},{name:"الوحدات",path:"/employee/units",icon:N,module:"units"},{name:"المستأجرين",path:"/employee/tenants",icon:w,module:"tenants"},{name:"العقود",path:"/employee/contracts",icon:k,module:"contracts"},{name:"الدفعات",path:"/employee/payments",icon:C,module:"payments"},{name:"الصيانة",path:"/employee/maintenance",icon:E,module:"maintenance"},{name:"المبيعات",path:"/employee/sales",icon:L,module:"sales"},{name:"المهام",path:"/employee/tasks",icon:v,module:"tasks"},{name:"التقارير",path:"/employee/reports",icon:c,module:"reports"}],A={properties:"العقارات",units:"الوحدات",tenants:"المستأجرين",contracts:"العقود",payments:"الدفعات",maintenance:"الصيانة",reports:"التقارير",settings:"الإعدادات",sales:"المبيعات",employees:"الموظفين",tasks:"المهام"};function T(){const{currentEmployee:t,employeeLogout:l}=x(),{employees:i}=b(),r=y();g();const o=d.useMemo(()=>t&&i.find(s=>s.id===t.id)||null,[t,i]);if(d.useEffect(()=>{if(!t){r("/employee/login");return}if(o&&!o.isActive){l(),r("/employee/login");return}t&&!o&&(l(),r("/employee/login"))},[t,o,r,l]),!t||!o)return null;const p=(s,a)=>{const n=o.permissions.find(h=>h.module===s);return n?n.actions.includes(a):!1},u=I.filter(s=>p(s.module,"view")&&s.path!=="/employee/dashboard");return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-brand-dark mb-1",children:["مرحباً، ",o.fullName.split(" ")[0],"!"]}),e.jsx("p",{className:"text-gray-500",children:"لوحة التحكم الخاصة بك"})]})}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-brand-dark mb-4",children:"صلاحياتك"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.permissions.map(s=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-2 border-b border-gray-200 pb-2",children:A[s.module]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.actions.map(a=>e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${a==="view"?"bg-blue-100 text-blue-700":a==="create"?"bg-green-100 text-green-700":a==="edit"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:a==="view"?"عرض":a==="create"?"إضافة":a==="edit"?"تعديل":"حذف"},a))})]},s.module))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-brand-dark mb-4",children:"الوصول السريع"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:u.map((s,a)=>{const n=s.icon;return e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.05},children:e.jsxs(f,{to:s.path,className:"block bg-white p-6 rounded-2xl shadow-sm hover:shadow-md transition-all group border border-transparent hover:border-brand-blue/20",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-xl flex items-center justify-center mb-3 group-hover:bg-brand-blue/10 transition-colors",children:e.jsx(n,{className:"w-6 h-6 text-gray-600 group-hover:text-brand-blue transition-colors"})}),e.jsx("h3",{className:"font-bold text-gray-800 group-hover:text-brand-dark",children:s.name})]})},s.path)})})]})]})}export{T as EmployeeDashboard};
