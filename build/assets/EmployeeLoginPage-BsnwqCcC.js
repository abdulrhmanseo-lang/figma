import{a as v,c as N,u as w,r,j as e,m as u,L as x}from"./index-Ckv98okJ.js";import{B as k}from"./button-C9eQ0t7a.js";import{B as S}from"./building-2-DEbP7tbQ.js";import{C as L}from"./circle-alert-BUztd8k7.js";import{M as E}from"./mail-CxZAaejL.js";import{L as C}from"./lock-Bfzq9iru.js";import{E as A}from"./eye-off-DxL8N5yW.js";import{E as P}from"./eye-CNuNKbIA.js";import"./createLucideIcon-BSYcr9Kq.js";function K(){const h=v(),{employees:p}=N(),{setEmployeeSession:d}=w(),[o,b]=r.useState(""),[i,f]=r.useState(""),[n,g]=r.useState(!1),[m,l]=r.useState(""),[c,t]=r.useState(!1),j=async a=>{a.preventDefault(),l(""),t(!0);const s=p.find(y=>y.email.toLowerCase().trim()===o.toLowerCase().trim());if(console.log("Login Attempt:",{email:o.trim(),found:!!s,status:s?.status,isActive:s?.isActive}),!s){l("البريد الإلكتروني غير مسجل"),t(!1);return}if(!s.isActive){l("حسابك غير نشط. تواصل مع الإدارة"),t(!1);return}if(s.password!==i.trim()){console.log("Password Mismatch:",{inputLength:i.trim().length,storedLength:s.password.length}),l("كلمة المرور غير صحيحة"),t(!1);return}d&&d(s),localStorage.setItem("employeeSession",JSON.stringify(s)),t(!1),h("/employee/dashboard")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-brand-dark to-slate-900 flex items-center justify-center p-4",dir:"rtl",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 -right-1/4 w-96 h-96 bg-brand-blue/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 -left-1/4 w-96 h-96 bg-brand-purple/20 rounded-full blur-3xl"})]}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative z-10 w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(x,{to:"/",className:"inline-flex items-center gap-3 group",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-brand-blue to-brand-purple p-3 shadow-lg group-hover:shadow-brand-blue/30 transition-shadow",children:e.jsx(S,{className:"w-full h-full text-white"})}),e.jsx("span",{className:"text-3xl font-bold text-white",children:"أركان"})]}),e.jsx("p",{className:"mt-4 text-gray-400",children:"بوابة الموظفين"})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-brand-dark text-center mb-6",children:"تسجيل الدخول"}),e.jsxs("form",{onSubmit:j,className:"space-y-5",children:[m&&e.jsxs(u.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:[e.jsx(L,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{children:m})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"email",value:o,onChange:a=>b(a.target.value),className:"w-full pr-12 pl-4 py-4 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all",placeholder:"name@arkan.sa",required:!0,dir:"ltr"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"كلمة المرور"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:n?"text":"password",value:i,onChange:a=>f(a.target.value),className:"w-full pr-12 pl-12 py-4 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all",placeholder:"••••••••",required:!0,dir:"ltr"}),e.jsx("button",{type:"button",onClick:()=>g(!n),className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?e.jsx(A,{className:"w-5 h-5"}):e.jsx(P,{className:"w-5 h-5"})})]})]}),e.jsx(k,{type:"submit",variant:"gradient",className:"w-full py-4 text-lg",disabled:c,children:c?"جاري تسجيل الدخول...":"تسجيل الدخول"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-blue-700 font-medium mb-2",children:"بيانات تجريبية:"}),e.jsxs("div",{className:"space-y-1 text-xs text-blue-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"محاسب:"})," khaled@arkan.sa / Khaled@2024"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"صيانة:"})," mohammed@arkan.sa / Mohammed@2024"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"خدمة عملاء:"})," fatima@arkan.sa / Fatima@2024"]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(x,{to:"/login",className:"text-sm text-gray-500 hover:text-brand-blue transition-colors",children:"← الدخول كمسؤول"})})]})]})]})}export{K as EmployeeLoginPage};
