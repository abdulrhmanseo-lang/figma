import{b as j,u as y,c as g,a as N,r as v,j as e,L as c,m as w}from"./index-Ckv98okJ.js";import{B as p}from"./building-2-DEbP7tbQ.js";import{a as d,C}from"./clipboard-list-BX0Xcw4D.js";import{H as L}from"./house-D7y-fc29.js";import{U as E}from"./users-BW_s600M.js";import{F as k}from"./file-text-BlJS6ccn.js";import{C as B}from"./credit-card-S0HkCzsQ.js";import{W as A}from"./wrench-CjqLlqGo.js";import{S as z}from"./shopping-cart-Bf3XHW6H.js";import{C as F}from"./chevron-right-EGWjRHRH.js";import{L as H}from"./lock-Bfzq9iru.js";import{L as R}from"./log-out-C7r51I_-.js";import{B as S}from"./bell-BVbBqmos.js";import"./createLucideIcon-BSYcr9Kq.js";const o=[{name:"نظرة عامة",path:"/employee/dashboard",icon:d,module:"properties"},{name:"العقارات",path:"/employee/properties",icon:p,module:"properties"},{name:"الوحدات",path:"/employee/units",icon:L,module:"units"},{name:"المستأجرين",path:"/employee/tenants",icon:E,module:"tenants"},{name:"العقود",path:"/employee/contracts",icon:k,module:"contracts"},{name:"الدفعات",path:"/employee/payments",icon:B,module:"payments"},{name:"الصيانة",path:"/employee/maintenance",icon:A,module:"maintenance"},{name:"المبيعات",path:"/employee/sales",icon:z,module:"sales"},{name:"المهام",path:"/employee/tasks",icon:C,module:"tasks"},{name:"التقارير",path:"/employee/reports",icon:d,module:"reports"}];function V({children:x}){const{pathname:n}=j(),{currentEmployee:t,employeeLogout:h}=y(),{employees:l}=g(),u=N(),a=v.useMemo(()=>t&&l.find(s=>s.id===t.id)||null,[t,l]);if(!t||!a)return null;const i=(s,r)=>{const m=a.permissions.find(b=>b.module===s);return m?m.actions.includes(r):!1},f=()=>{h(),u("/employee/login")};return e.jsxs("div",{className:"min-h-screen bg-slate-100 font-cairo",dir:"rtl",children:[e.jsxs("aside",{className:"fixed right-0 top-0 h-screen w-64 bg-white shadow-xl z-40 flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs(c,{to:"/employee/dashboard",className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-brand-blue to-brand-purple rounded-xl flex items-center justify-center",children:e.jsx(p,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xl font-bold bg-gradient-to-l from-brand-blue to-brand-purple bg-clip-text text-transparent block",children:"أركان"}),e.jsx("span",{className:"text-xs text-gray-400",children:"بوابة الموظفين"})]})]})}),e.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:e.jsxs("ul",{className:"space-y-1 px-3",children:[o.filter(s=>i(s.module,"view")).map(s=>{const r=n===s.path;return e.jsx("li",{children:e.jsxs(c,{to:s.path,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${r?"bg-gradient-to-l from-brand-blue to-brand-purple text-white shadow-lg":"text-gray-600 hover:bg-gray-50 hover:text-brand-dark"}`,children:[e.jsx(s.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:s.name}),r&&e.jsx(F,{className:"w-4 h-4 mr-auto"})]})},s.path)}),e.jsx("div",{className:"my-4 border-t border-gray-100"}),e.jsx("p",{className:"px-4 text-xs text-gray-400 mb-2",children:"غير مصرح"}),o.filter(s=>!i(s.module,"view")).map(s=>e.jsx("li",{children:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 cursor-not-allowed",children:[e.jsx(s.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium flex-1",children:s.name}),e.jsx(H,{className:"w-4 h-4"})]})},s.path))]})}),e.jsxs("div",{className:"p-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3 px-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-brand-blue to-brand-purple rounded-full flex items-center justify-center text-white font-bold",children:a.fullName.charAt(0)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-brand-dark truncate",children:a.fullName}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:a.department})]})]}),e.jsxs("button",{onClick:f,className:"w-full flex items-center gap-3 px-4 py-2.5 text-red-600 hover:bg-red-50 rounded-xl transition-colors",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"تسجيل الخروج"})]})]})]}),e.jsxs("div",{className:"mr-64",children:[e.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-30",children:e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-bold text-brand-dark",children:o.find(s=>s.path===n)?.name||"لوحة التحكم"})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{className:"relative p-2 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx(S,{className:"w-5 h-5 text-gray-500"})})})]})}),e.jsx("main",{className:"p-6",children:e.jsx(w.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:x},n)})]})]})}export{V as EmployeeLayout};
